webpackJsonp([0],{11:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.GameStateChangedEvent=function GameStateChangedEvent(e,t,r){_classCallCheck(this,GameStateChangedEvent),this.minesweeper=e,this.previousState=t,this.currentState=r},t.NewGameRequestedEvent=function NewGameRequestedEvent(e){_classCallCheck(this,NewGameRequestedEvent),this.settings=e}},12:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},14:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=(t.GameSettings=function(){function GameSettings(e,t,r,n,i){_classCallCheck(this,GameSettings),this.difficulty=e,this.name=t,this.width=r,this.height=n,this.numMines=i}return GameSettings.prototype.isValid=function(){return this.width>=1&&this.height>=1&&this.numMines<this.width*this.height},GameSettings.prototype.clone=function(){return JSON.parse(JSON.stringify(this))},GameSettings.beginner=function(){return new GameSettings(r.Beginner,"Beginner",9,9,10)},GameSettings.intermediate=function(){return new GameSettings(r.Intermediate,"Intermediate",16,16,40)},GameSettings.expert=function(){return new GameSettings(r.Expert,"Expert",30,16,99)},GameSettings.custom=function(){return new GameSettings(r.Custom,"Custom",30,20,145)},GameSettings}(),t.GameDifficulty={Beginner:1,Intermediate:2,Expert:4,Custom:8})},34:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GameState=t.Minesweeper=void 0;var n=r(35),i=r(58),o=(t.Minesweeper=function(){function Minesweeper(e){var t=this;if(_classCallCheck(this,Minesweeper),!e.isValid())throw"Minefield width and height must be larger than zero and number of mines must be less than "+e.width*e.height+"!";this._timer=new i.Timer(function(){return t.time++},1e3),this.settings=e.clone(),this.reset()}return Minesweeper.prototype.pressSquare=function(e,t){this.state&o.GameOver||(e.press(),t&&this._performOnAdjacentSquares(e,function(e){return e.press()}))},Minesweeper.prototype.releaseSquare=function(e,t){e.release(),t&&this._performOnAdjacentSquares(e,function(e){return e.release()})},Minesweeper.prototype.openSquare=function(e,t){var r=this;this.state&o.GameOver||(t?!function(){var t=e.numAdjacentMines,i=0;r._performOnAdjacentSquares(e,function(e){e.state===n.SquareState.Flagged&&i++}),e.state===n.SquareState.Open&&i>0&&t===i?r._performOnAdjacentSquares(e,function(e){return r._openSquareInner(e)}):r.releaseSquare(e,!0)}():this._openSquareInner(e))},Minesweeper.prototype.toggleSquareFlag=function(e){this.state&o.GameOver||(e.state===n.SquareState.Flagged?this._unflagSquare(e):this._flagSquare(e))},Minesweeper.prototype.reset=function(){this.numOpened=0,this.numFlagged=0,this.time=0,this._initializeSquares(),this._setState(o.ReadyToPlay)},Minesweeper.prototype._initializeSquares=function(){this.squares=new Array(this.settings.height);for(var e=0;e<this.settings.height;e++){this.squares[e]=new Array(this.settings.width);for(var t=0;t<this.settings.width;t++)this.squares[e][t]=new n.Square(t,e)}},Minesweeper.prototype._ensureGameStarted=function(e){this.state===o.ReadyToPlay&&(this._randomlyDistributeMines(e),this._setState(o.Playing),this._timer.start())},Minesweeper.prototype._setState=function(e){this.state=e},Minesweeper.prototype._randomlyDistributeMines=function(e){for(var t=this,r=0;r<this.settings.numMines;r++){var n=void 0,i=function(){var r=Math.floor(Math.random()*t.settings.width),i=Math.floor(Math.random()*t.settings.height),o=t.squares[i][r];if(!o.hasMine&&o!==e){var s=!1;t._performOnAdjacentSquares(e,function(e){o===e&&(s=!0)});var a=t.settings.width*t.settings.height;(!s||t.settings.numMines>a-9)&&(n=o)}};do i();while(!n);n.numAdjacentMines=-this.settings.numMines,this._performOnAdjacentSquares(n,function(e){return e.numAdjacentMines++})}},Minesweeper.prototype._openSquareInner=function(e){e.open()&&(this._ensureGameStarted(e),this.numOpened++,e.hasMine?this._onOpenedMinedSquare(e):this._onOpenedNormalSquare(e))},Minesweeper.prototype._onOpenedMinedSquare=function(e){e.causedGameOver=!0,this._timer.stop(),this._setState(o.Lost),this._performOnAllSquares(function(e){e.hasMine&&(e.press(),e.open())})},Minesweeper.prototype._onOpenedNormalSquare=function(e){var t=this;this.numOpened===this.settings.width*this.settings.height-this.settings.numMines&&(this._timer.stop(),this._setState(o.Won),this._performOnAllSquares(function(e){e.hasMine&&t._flagSquare(e)})),0===e.numAdjacentMines&&this._performOnAdjacentSquares(e,function(e){t.pressSquare(e),t.openSquare(e)})},Minesweeper.prototype._flagSquare=function(e){e.flag()&&this.numFlagged++},Minesweeper.prototype._unflagSquare=function(e){e.unflag()&&this.numFlagged--},Minesweeper.prototype._performOnAllSquares=function(e){for(var t=0;t<this.settings.height;t++)for(var r=0;r<this.settings.width;r++)e(this.squares[t][r])},Minesweeper.prototype._performOnAdjacentSquares=function(e,t){for(var r=e.y-1;r<=e.y+1;r++)for(var n=e.x-1;n<=e.x+1;n++)n>=0&&r>=0&&n<this.settings.width&&r<this.settings.height&&(n!==e.x||r!==e.y)&&t(this.squares[r][n])},Minesweeper}(),t.GameState={ReadyToPlay:1,Playing:2,Won:4,Lost:8,GameOver:12})},35:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=(t.Square=function(){function Square(e,t){_classCallCheck(this,Square),this.state=n.Closed,this.causedGameOver=!1,this.numAdjacentMines=0,this.x=e,this.y=t}return Square.prototype.press=function(){return this.state===n.Closed?this.state=n.Pressed:void 0},Square.prototype.release=function(){return this.state===n.Pressed?this.state=n.Closed:void 0},Square.prototype.open=function(){return this.state===n.Pressed?this.state=n.Open:void 0},Square.prototype.flag=function(){return this.state===n.Closed?this.state=n.Flagged:void 0},Square.prototype.unflag=function(){return this.state===n.Flagged?this.state=n.Closed:void 0},r(Square,[{key:"hasMine",get:function(){return this.numAdjacentMines<0}}]),Square}(),t.SquareState={Closed:1,Pressed:2,Flagged:4,Open:8})},48:function(e,t,r){"use strict";function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Gameboard=void 0;var n,i,o,s,a=r("aurelia-framework"),u=r("aurelia-event-aggregator"),l=r(9),c=r(34),d=r(35),p=r(11);t.Gameboard=(n=(0,a.inject)(u.EventAggregator),n((o=function(){function Gameboard(e){var t=this;_classCallCheck(this,Gameboard),this.GameState=c.GameState,this.SquareState=d.SquareState,_initDefineProp(this,"settings",s,this),this._eventAggregator=e,this._mouseUpCallback=this._onMouseUp.bind(this),this._eventAggregator.subscribe(p.NewGameRequestedEvent,function(e){return t.restart()})}return Gameboard.prototype.attached=function(){window.addEventListener("mouseup",this._mouseUpCallback,!1),this.restart()},Gameboard.prototype.detached=function(){window.removeEventListener("mouseup",this._mouseUpCallback)},Gameboard.prototype.restart=function(){this.settings&&this.settings.isValid()&&(this.minesweeper=new c.Minesweeper(this.settings))},Gameboard.prototype.onSmileyMouseDown=function(e){e.which===l.MouseButton.Left&&(this.isSmileyPressed=!0)},Gameboard.prototype.onSmileyMouseUp=function(e){e.which===l.MouseButton.Left&&(this.isSmileyPressed=!1,this.restart())},Gameboard.prototype.onSmileyMouseOut=function(e){e.which===l.MouseButton.Left&&(this.isSmileyPressed=!1)},Gameboard.prototype.onSquareMouseDown=function(e,t){t.which===l.MouseButton.Left?(this.isMouseLeftDown=!0,this.isPressValid=!0,this.minesweeper.pressSquare(e,this._isChording())):t.which===l.MouseButton.Right&&(this.isMouseRightDown=!0,this.isMouseLeftDown&&(this.isPressValid=!0,this.minesweeper.pressSquare(e,this._isChording())))},Gameboard.prototype.onSquareMouseUp=function(e,t){if(this.isMouseLeftDown&&(t.which===l.MouseButton.Left||t.which===l.MouseButton.Right)){var r=this.minesweeper.state;this.minesweeper.openSquare(e,this._isChording());var n=this.minesweeper.state;r!==n&&this._eventAggregator.publish(new p.GameStateChangedEvent(this.minesweeper,r,n)),this.isPressValid=!1}},Gameboard.prototype.onSquareMouseOver=function(e,t){!this.isPressValid||t.which!==l.MouseButton.Left&&t.which!==l.MouseButton.Right||this.minesweeper.pressSquare(e,this._isChording())},Gameboard.prototype.onSquareMouseOut=function(e,t){this.minesweeper.releaseSquare(e,this._isChording())},Gameboard.prototype.onSquareContextMenu=function(e,t){t.preventDefault(),!this.isMouseLeftDown&&t.which&&t.which===l.MouseButton.Right&&this.minesweeper.toggleSquareFlag(e)},Gameboard.prototype._isChording=function(){return this.isMouseLeftDown&&this.isMouseRightDown},Gameboard.prototype._onMouseUp=function(e){e.which===l.MouseButton.Left?(this.isMouseLeftDown=!1,this.isPressValid=!1):e.which===l.MouseButton.Right&&(this.isMouseRightDown=!1)},Gameboard}(),s=_applyDecoratedDescriptor(o.prototype,"settings",[a.bindable],{enumerable:!0,initializer:function(){return null}}),i=o))||i)},49:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Leaderboard=void 0;var n,i,o,s,a=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),u=r("aurelia-framework"),l=r("aurelia-event-aggregator"),c=r(9),d=r(54),p=r(53),h=r(34),f=r(14),m=r(11);t.Leaderboard=(n=(0,u.inject)(l.EventAggregator,d.RemoteLeaderboardStorage,p.LocalLeaderboardStorage),i=(0,u.computedFrom)("activeSubmission"),n((s=function(){function Leaderboard(e,t,r){var n=this;_classCallCheck(this,Leaderboard),this.visibleCategories=[f.GameSettings.expert(),f.GameSettings.intermediate(),f.GameSettings.beginner()],this.categoriesMap={},this.leaderboard={all:{}},this.activeSubmission=null;for(var i=this.visibleCategories,o=Array.isArray(i),s=0,i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if(s=i.next(),s.done)break;a=s.value}var u=a;this.leaderboard.all[u.difficulty]=[],this.categoriesMap[u.difficulty]=u}var l=f.GameSettings.custom();this.categoriesMap[l.difficulty]=l,t.isAvailable().then(function(){n._storage=t,n.getScores()},function(){n._storage=r,n.isUsingLocalStorage=!0,n.getScores()}),e.subscribe(m.GameStateChangedEvent,this._gameStateChanged.bind(this))}return Leaderboard.prototype.getScores=function(){var e=this;this._storage.get().then(function(t){if(t)for(var r in t.all)e.leaderboard.all[r]=t.all[r]})},Leaderboard.prototype.submit=function(e){var t=this;e.name&&!e.name.match(/^\s+$/)?(e.isSubmitted=!0,this._storage.push(e).then(function(){t.getScores()})):e.isInvalid=!0},Leaderboard.prototype.onSubmissionKeydown=function(e,t){return t.which===c.Key.Enter?this.submit(e):t.which===c.Key.Escape&&this.closeSubmission(),!0},Leaderboard.prototype.closeSubmission=function(){this.activeSubmission=null},Leaderboard.prototype._gameStateChanged=function(e){e.currentState===h.GameState.Won&&(this.activeSubmission={time:e.minesweeper.time,difficulty:e.minesweeper.settings.difficulty},this.activeSubmission.isHighscore=this._isHighscoreSubmission(this.activeSubmission))},Leaderboard.prototype._isHighscoreSubmission=function(e){return e.difficulty!==f.GameDifficulty.Custom},a(Leaderboard,[{key:"submissionText",get:function(){return this.activeSubmission?"I beat #aurelia-minesweeper in "+this.activeSubmission.time+" seconds on "+this.categoriesMap[this.activeSubmission.difficulty].name+" mode!":void 0}}]),Leaderboard}(),_applyDecoratedDescriptor(s.prototype,"submissionText",[i],Object.getOwnPropertyDescriptor(s.prototype,"submissionText"),s.prototype),o=s))||o)},50:function(e,t,r){"use strict";function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var n,i,o,s,a=r("aurelia-framework"),u=r("aurelia-event-aggregator"),l=r(9),c=r(14),d=r(11);t.Settings=(n=(0,a.inject)(u.EventAggregator),n((o=function(){function Settings(e){_classCallCheck(this,Settings),this.GameDifficulty=c.GameDifficulty,_initDefineProp(this,"settings",s,this),this.allSettings=[c.GameSettings.beginner(),c.GameSettings.intermediate(),c.GameSettings.expert(),c.GameSettings.custom()],this.settingsComparer=function(e,t){return e.difficulty===t.difficulty},this._eventAggregator=e}return Settings.prototype.newGame=function(){this._eventAggregator.publish(new d.NewGameRequestedEvent(this.settings))},Settings.prototype.onKeypress=function(e){return e.which===l.Key.Enter&&this.newGame(),!0},Settings}(),s=_applyDecoratedDescriptor(o.prototype,"settings",[a.bindable],{enumerable:!0,initializer:function(){return null}}),i=o))||i)},51:function(e,t,r){"use strict";function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.GithubButton=void 0;var n,i,o,s,a,u,l,c,d=r("aurelia-framework");t.GithubButton=(n=function GithubButton(){_classCallCheck(this,GithubButton),_initDefineProp(this,"user",i,this),_initDefineProp(this,"repo",o,this),_initDefineProp(this,"type",s,this),_initDefineProp(this,"count",a,this),_initDefineProp(this,"size",u,this),_initDefineProp(this,"width",l,this),_initDefineProp(this,"height",c,this)},i=_applyDecoratedDescriptor(n.prototype,"user",[d.bindable],{enumerable:!0,initializer:null}),o=_applyDecoratedDescriptor(n.prototype,"repo",[d.bindable],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"type",[d.bindable],{enumerable:!0,initializer:null}),a=_applyDecoratedDescriptor(n.prototype,"count",[d.bindable],{enumerable:!0,initializer:function(){return"none"}}),u=_applyDecoratedDescriptor(n.prototype,"size",[d.bindable],{enumerable:!0,initializer:function(){return"none"}}),l=_applyDecoratedDescriptor(n.prototype,"width",[d.bindable],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(n.prototype,"height",[d.bindable],{enumerable:!0,initializer:null}),n)},52:function(e,t,r){"use strict";function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Tweet=void 0;var n,i,o,s,a=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),u=r("aurelia-framework"),l=r(9);t.Tweet=(n=function(){function Tweet(e,t){_classCallCheck(this,Tweet),_initDefineProp(this,"text",i,this),_initDefineProp(this,"url",o,this),_initDefineProp(this,"hashtags",s,this),this._bindingEngine=e,this._taskQueue=t,this.url=window.location.protocol+"//"+window.location.host}return Tweet.prototype.onClick=function(e){if(e.which==l.MouseButton.Left){var t=550,r=420,n=window.screen.width,i=window.screen.height,o=Math.round(n/2-t/2),s=i>r?Math.round(i/2-r/2):0;window.open(this.link.href,"share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+t+",height="+r+",left="+o+",top="+s),e.preventDefault()}},a(Tweet,[{key:"shareLink",get:function(){return"https://twitter.com/intent/tweet?text="+encodeURIComponent(this.text)+"&url="+encodeURIComponent(this.url)+"&hashtags="+encodeURIComponent(this.hashtags)}}]),Tweet}(),i=_applyDecoratedDescriptor(n.prototype,"text",[u.bindable],{enumerable:!0,initializer:function(){return""}}),o=_applyDecoratedDescriptor(n.prototype,"url",[u.bindable],{enumerable:!0,initializer:function(){return""}}),s=_applyDecoratedDescriptor(n.prototype,"hashtags",[u.bindable],{enumerable:!0,initializer:function(){return""}}),n)},53:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.LocalLeaderboardStorage=function(){function LocalLeaderboardStorage(){_classCallCheck(this,LocalLeaderboardStorage),this._key="leaderboard_v1",this._storage=window.localStorage}return LocalLeaderboardStorage.prototype.isAvailable=function(){var t=this;return new e(function(e,r){t._storage?e():r()})},LocalLeaderboardStorage.prototype.get=function(){var t=this;return new e(function(e,r){if(t._storage){var n=t._getBlob();e(n)}else r()})},LocalLeaderboardStorage.prototype.push=function(t){var r=this;return new e(function(e,n){if(r._storage){var i=r._getBlob();i||(i={all:{}});var o=i.all[t.difficulty];o||(o=[],i.all[t.difficulty]=o),o.push(t),r._storage.setItem(r._key,JSON.stringify(i)),e()}else n()})},LocalLeaderboardStorage.prototype._getBlob=function(){return JSON.parse(this._storage.getItem(this._key))},LocalLeaderboardStorage}()}).call(t,r("bluebird"))},54:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteLeaderboardStorage=void 0;var n,i;r("isomorphic-fetch");var o=r("aurelia-framework"),s=r("aurelia-fetch-client");t.RemoteLeaderboardStorage=(n=(0,o.inject)(s.HttpClient),n(i=function(){function RemoteLeaderboardStorage(e){_classCallCheck(this,RemoteLeaderboardStorage),e.configure(function(e){e.useStandardConfiguration().withBaseUrl("//jwin.cloudapp.net:3000/").rejectErrorResponses()}),this._http=e}return RemoteLeaderboardStorage.prototype.isAvailable=function(){return this._http.fetch("test")},RemoteLeaderboardStorage.prototype.get=function(){return this._http.fetch("leaderboard").then(function(e){return e.json()})},RemoteLeaderboardStorage.prototype.push=function(e){return this._http.fetch("leaderboard",{method:"post",body:(0,s.json)(e)})},RemoteLeaderboardStorage}())||i)},55:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SlideCustomAttribute=void 0;var n,i,o=r("aurelia-framework"),s=r("aurelia-animator-css");t.SlideCustomAttribute=(n=(0,o.inject)(Element,s.CssAnimator),n(i=function(){function SlideCustomAttribute(e,t){_classCallCheck(this,SlideCustomAttribute),this._animationQueue=[],this._class="slide",this._element=e,this._animator=t}return SlideCustomAttribute.prototype.valueChanged=function(e,t){var r=this,n=e?function(){return r._animator.addClass(r._element,r._class)}:function(){return r._animator.removeClass(r._element,r._class)};this._inProgress?this._animationQueue.push(n):this._runAnimation(n)},SlideCustomAttribute.prototype._runAnimation=function(e){var t=this;this._inProgress=!0,e().then(function(){if(t._animationQueue.length>0){var e=t._animationQueue.splice(0,1)[0];t._runAnimation(e)}else t._inProgress=!1})},SlideCustomAttribute}())||i)},56:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.SortValueConverter=function(){function SortValueConverter(){_classCallCheck(this,SortValueConverter)}return SortValueConverter.prototype.toView=function(e,t,r){var n="ascending"===r?1:-1;return e.sort(function(e,r){return(e[t]-r[t])*n})},SortValueConverter}()},57:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.TakeValueConverter=function(){function TakeValueConverter(){_classCallCheck(this,TakeValueConverter)}return TakeValueConverter.prototype.toView=function(e,t){return e.slice(0,t)},TakeValueConverter}()},58:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.Timer=function(){function Timer(e,t){_classCallCheck(this,Timer),this.action=e,this.interval=t,this._windowIntervalHandle=null}return Timer.prototype.start=function(){this._windowIntervalHandle&&this.stop(),this._windowIntervalHandle=window.setInterval(this.action,this.interval)},Timer.prototype.stop=function(){this._windowIntervalHandle&&(window.clearInterval(this._windowIntervalHandle),this._windowIntervalHandle=null)},Timer}()},63:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var n,i,o=r("aurelia-framework"),s=r("aurelia-event-aggregator"),a=r(14),u=r(9),l=r(11);t.App=(n=(0,o.inject)(s.EventAggregator),n(i=function(){function App(e){var t=this;_classCallCheck(this,App),this.settingsOpen=!1,this.settings=window.innerWidth<=360?a.GameSettings.beginner():a.GameSettings.intermediate(),e.subscribe(l.NewGameRequestedEvent,function(e){e.settings.isValid()&&(t.settingsOpen=!1)})}return App.prototype.onSettingsKeydown=function(e){return e.which===u.Key.Escape&&(this.settingsOpen=!1),!0},App}())||i)},64:function(e,t,r){"use strict";(function(e,n){function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new n(function(e,r){function step(i,o){try{var s=t[i](o),a=s.value}catch(u){return void r(u)}return s.done?void e(a):n.resolve(a).then(function(e){return step("next",e)},function(e){return step("throw",e)})}return step("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0;t.configure=function(){var t=_asyncToGenerator(e.mark(function _callee(t){return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.use.standardConfiguration().plugin("aurelia-animator-css"),e.next=3,t.start();case 3:t.setRoot("app");case 4:case"end":return e.stop()}},_callee,this)}));return function(e){return t.apply(this,arguments)}}();r(71),r(72);var i=r("bluebird"),o=_interopRequireWildcard(i);o.config({warnings:!1})}).call(t,r(37),r("bluebird"))},66:function(e,t,r){t=e.exports=r(12)(),t.push([e.i,".section__header {\r\n  height: 80px;\r\n  -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  -moz-box-shadow: 0 2px 4px rgba(0,0,0,.2);\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  background-color: #FFFFFF;\r\n  position: relative;\r\n}\r\n\r\n.section__settings {\r\n  -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  -moz-box-shadow: 0 2px 4px rgba(0,0,0,.2);\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 -2px 4px rgba(0, 0, 0, 0.2);\r\n  position: relative;\r\n  max-height: 0;\r\n  overflow-y: hidden;\r\n}\r\n\r\n.section__gameboard {\r\n  margin: 0 auto;\r\n  padding: 20px 0;\r\n\r\n  text-align: center;\r\n\r\n  background-image: -webkit-gradient(linear, top, from(#6E4D9B), to(#E82887));\r\n  background-image: -webkit-linear-gradient(top, #6E4D9B, #E82887);\r\n  background-image: -moz-linear-gradient(top, #6E4D9B, #E82887);\r\n  background-image: linear-gradient(to top, #6E4D9B, #E82887);\r\n}\r\n\r\n.section__leaderboard {\r\n}\r\n\r\n.brand {\r\n  height: 80px;\r\n}\r\n\r\n.github-button {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  line-height: 0;\r\n  margin: 10px 0 0 10px;\r\n}\r\n\r\n/* CSS3-Animations */\r\n\r\n.slide {\r\n  max-height: 170px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.slide-add {\r\n  -webkit-animation: slide-in 0.5s;\r\n  animation: slide-in 0.5s;\r\n}\r\n\r\n.slide-remove {\r\n  -webkit-animation: slide-out 0.5s;\r\n  animation: slide-out 0.5s;\r\n}\r\n\r\n@-webkit-keyframes slide-in {\r\n    0%   { max-height: 0; padding: 0; }\r\n    100% { max-height: 170px; padding: 10px 0; }\r\n}\r\n\r\n@keyframes slide-in {\r\n    0%   { max-height: 0; padding: 0; }\r\n    100% { max-height: 170px; padding: 10px 0; }\r\n}\r\n\r\n@-webkit-keyframes slide-out {\r\n    0%   { max-height: 170px; padding: 10px 0; }\r\n    100% { max-height: 0; padding: 0; }\r\n}\r\n\r\n@keyframes slide-out {\r\n    0%   { max-height: 170px; padding: 10px 0; }\r\n    100% { max-height: 0; padding: 0; }\r\n}\r\n",""])},67:function(e,t,r){t=e.exports=r(12)(),t.push([e.i,"/* Minesweeper consists of minefield and minefield labels */\r\n\r\n.label {\r\n  color: #E82887;\r\n  border-color: #E82887;\r\n  text-shadow: none;\r\n  background: #FFFFFF;\r\n  -webkit-box-shadow: 0 7px 10px rgba(0, 0, 0, 0.2);\r\n  -moz-box-shadow: 0 7px 10px rgba(0, 0, 0, 0.2);\r\n  box-shadow: 0 7px 10px rgba(0, 0, 0, 0.2);\r\n  font-size: 1.2em;\r\n  border-radius: 4px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n}\r\n\r\n.label__icon {\r\n  height: 40px;\r\n  float: left;\r\n}\r\n\r\n.smiley {\r\n  height: 36px;\r\n  width: 36px;\r\n  background-image: url("+r(80)+");\r\n  background-size: 144px 36px;\r\n  display: inline-block;\r\n}\r\n\r\n.smiley--happy { background-position: 0 0; }\r\n.smiley--scared { background-position: -36px 0; }\r\n.smiley--cool { background-position: -72px 0; }\r\n.smiley--dead { background-position: -108px 0; }\r\n\r\n.square--open .smiley {\r\n  margin: 2px 0 0 2px;\r\n}\r\n\r\n.minefield {  \r\n  -webkit-box-shadow: 0 4px 40px rgba(0, 0, 0, 0.4);\r\n  -moz-box-shadow: 0 4px 40px rgba(0, 0, 0, 0.4);\r\n  box-shadow: 0 4px 40px rgba(0, 0, 0, 0.4);\r\n  display: table;\r\n  margin: 10px auto auto auto;\r\n}\r\n\r\n.board__header {\r\n  min-width: 252px;\r\n}\r\n\r\n/* Minefield individual squares */\r\n\r\n.square {\r\n  display: inline-block;\r\n  width: 28px;\r\n  height: 28px;\r\n  line-height: 28px;\r\n\r\n  text-align: center;\r\n  font-family: 'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;\r\n  font-weight: bold;\r\n  font-size: 1.5em;\r\n  color: white;\r\n\r\n  vertical-align: top;\r\n}\r\n\r\n.square__image {\r\n  vertical-align: baseline;\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.square--closed {\r\n  border-top: 2px solid #FFFFFF;\r\n  border-left: 2px solid #FFFFFF;\r\n  border-bottom: 2px solid #7B7B7B;\r\n  border-right: 2px solid #7B7B7B;\r\n  background-color: #BDBDBD;\r\n}\r\n\r\n.square--open {\r\n  border-top: 2px solid #7B7B7B;\r\n  border-left: 2px solid #7B7B7B;\r\n  border-bottom: 2px solid #BDBDBD;\r\n  border-right: 2px solid #BDBDBD;\r\n  background-color: #BDBDBD;\r\n}\r\n\r\n.game-over { background-color: #FF0000; }\r\n\r\n.color-0 { color: #C0C0C0; }\r\n.color-1 { color: #0100FE; }\r\n.color-2 { color: #017F01; }\r\n.color-3 { color: #FE0000; }\r\n.color-4 { color: #010080; }\r\n.color-5 { color: #810102; }\r\n.color-6 { color: #008081; }\r\n.color-7 { color: #000000; }\r\n.color-8 { color: #808080; }\r\n",""])},68:function(e,t,r){t=e.exports=r(12)(),t.push([e.i,".highscores__category, .highscores__submission {\r\n  background: #FFFFFF;\r\n  color: #555555;\r\n}\r\n\r\n.highscores__container {\r\n  padding: 10px;\r\n}\r\n\r\n.highscores__category {\r\n  padding: 0 10px 20px 10px;\r\n}\r\n\r\n.highscores__header {\r\n  color: #EA2988;\r\n}\r\n\r\n.highscores__emphasized {\r\n  color: #3D3D3D;\r\n}\r\n\r\n.highscores__border {\r\n  border: 1px solid #DADADA;\r\n  box-shadow: 0px 1px 2px 0px rgba(0,0,0,0.10);\r\n  border-radius: 4px;\r\n}\r\n\r\n.submission__name {\r\n  padding: 9px;\r\n  border: 2px solid #D0D0D0;\r\n  border-radius: 3px;\r\n}\r\n\r\n.submission__name--invalid {\r\n  border-color: #E85C41;\r\n}\r\n\r\n.submission__button {\r\n  background-color: #EA2988;\r\n  color: #FFFFFF;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  padding: 0 14px;\r\n  border-radius: 3px;\r\n}\r\n\r\n.submission__button:hover {\r\n  background-color: #FF2D94;\r\n}\r\n\r\n.submission__close {\r\n  color: #DADADA;\r\n  cursor: pointer;\r\n}\r\n\r\n.submission__flag {\r\n  margin: 0 2px;\r\n  max-width: 24px;\r\n}\r\n",""]);
},69:function(e,t,r){t=e.exports=r(12)(),t.push([e.i,".settings__input {\r\n  width: 100%;\r\n  border: 2px solid #D0D0D0;\r\n  border-radius: 3px;\r\n}\r\n\r\n.settings__button {\r\n  background-color: #F5F5F5;\r\n  color: #444444;\r\n  font-weight: bold;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding: 0 14px;\r\n  border: 1px solid #CCCCCC;\r\n  border-radius: 3px;\r\n}\r\n\r\n.settings__button:hover {\r\n  background-color: #DDDDDD;\r\n}\r\n",""])},70:function(e,t,r){t=e.exports=r(12)(),t.push([e.i,".tweet {\r\n  inherit: none;  \r\n  display: inline-block;\r\n  border-radius: 3px;\r\n  -moz-border-radius: 3px;\r\n  -webkit-border-radius: 3px;\r\n  /* gradient background -- thanks http://ie.microsoft.com/testdrive/graphics/cssgradientbackgroundmaker/ */\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -ms-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -moz-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -o-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -webkit-gradient(linear, left top, left bottom, color-stop(0, #FEFEFE), color-stop(1, #DFDFDF));\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -webkit-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);\r\n\r\n  border: 1px solid #cccccc;\r\n  padding-left: 22px;\r\n  padding-right: 4px;\r\n  padding-top: 2px;\r\n\r\n  font-weight: bold;\r\n  font-size: 0.7em;\r\n  font-family: Arial;\r\n\r\n  color: #333333;\r\n  text-decoration: none;\r\n}\r\n\r\n.tweet:hover {\r\n	background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -ms-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -moz-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -o-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -webkit-gradient(linear, left top, left bottom, color-stop(0, #f7f7f7), color-stop(1, #d9d9d9));\r\n  background: url('/img/bird_16_blue.png') no-repeat 2px 1px, -webkit-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);\r\n}\r\n",""])},71:function(e,t){},72:71,73:function(e,t){e.exports='<template> <require from="./app.css"></require> <require from="./utility/slide"></require> <require from="./component/settings"></require> <require from="./component/gameboard"></require> <require from="./component/leaderboard"></require> <require from="./component/social/github-button"></require> <header class="section__header"> <div class="row"> <div class="small-10 columns align-middle"> <img class="brand" src="/img/logo.png" alt="#aurelia-minesweeper"> <github-button class="github-button hide-for-small-only" user="discosultan" repo="aurelia-minesweeper" type="star" width="50px" height="24px"> </github-button></div> <div class="small-2 columns align-middle"> <a href="javascript:void(0)" click.delegate="settingsOpen = !settingsOpen"> <img class="float-right" src="/img/settings.png" width="42px" height="42px"> </a> </div> </div> </header> <section slide.bind="settingsOpen" class="section__settings"> <settings settings.two-way="settings" keydown.delegate="onSettingsKeydown($event)"> </settings></section> <section class="section__gameboard"> <gameboard class="inline-block" settings.bind="settings"> </gameboard></section> <section class="section__leaderboard"> <leaderboard> </leaderboard></section> </template>'},74:function(e,t){e.exports='<template> <require from="./gameboard.css"></require> <div class="row board__header"> <div class="small-4 columns label no-padding no-wrap"> <img class="label__icon" src="/img/mine.png" alt="mines"> ${minesweeper.settings.numMines - minesweeper.numFlagged} </div> <div class="columns"> <div class="label ${isSmileyPressed ? \'square--open\' : \'square--closed\'}" mousedown.delegate="onSmileyMouseDown($event)" mouseup.delegate="onSmileyMouseUp($event)" mouseout.delegate="onSmileyMouseOut($event)"> <div class="smiley smiley--happy" if.bind="(minesweeper.state === GameState.ReadyToPlay || minesweeper.state === GameState.Playing) && !isPressValid"></div> <div class="smiley smiley--scared" if.bind="(minesweeper.state === GameState.ReadyToPlay || minesweeper.state === GameState.Playing) && isPressValid"></div> <div class="smiley smiley--cool" if.bind="minesweeper.state === GameState.Won"></div> <div class="smiley smiley--dead" if.bind="minesweeper.state === GameState.Lost"></div> </div> </div> <div class="small-4 columns label no-padding no-wrap"> <img class="label__icon" src="/img/timer.png" alt="timer"> ${minesweeper.time} </div> </div> <div class="minefield no-wrap"> <div repeat.for="row of minesweeper.squares" class="no-wrap"> <div repeat.for="square of row" class="square no-wrap color-${square.numAdjacentMines} ${(square.state === SquareState.Open || square.state === SquareState.Pressed) ? \'square--open\' : \'square--closed\'} ${square.causedGameOver ? \'game-over\' : \'\'}" mousedown.delegate="onSquareMouseDown(square, $event)" mouseup.delegate="onSquareMouseUp(square, $event)" mouseover.delegate="onSquareMouseOver(square, $event)" mouseout.delegate="onSquareMouseOut(square, $event)" contextmenu.delegate="onSquareContextMenu(square, $event)"> <img class="square__image" if.bind="square.state === SquareState.Open && square.numAdjacentMines < 0" src="/img/mine.png" alt="mine"> <img class="square__image" if.bind="square.state === SquareState.Flagged" src="/img/flag.png" alt="flag"> <span if.bind="square.state === SquareState.Open && square.numAdjacentMines > 0">${square.numAdjacentMines}</span> </div> </div> </div> </template>'},75:function(e,t){e.exports='<template> <require from="../utility/sort"></require> <require from="../utility/take"></require> <require from="./leaderboard.css"></require> <require from="./social/tweet"></require> <div class="row highscores__container" if.bind="activeSubmission" keydown.delegate="onSubmissionKeydown(activeSubmission, $event)"> <div class="columns highscores__submission highscores__border"> <div class="row"> <div class="small-11 columns"> <h4 class="highscores__emphasized inline-block"> <span class="highscores__header">Congratulations!</span> <span class="weight-normal">You beat</span> #aurelia-minesweeper <span class="weight-normal">in</span> ${activeSubmission.time} seconds <span class="weight-normal">on</span> ${categoriesMap[activeSubmission.difficulty].name} mode<span class="weight-normal">!&nbsp;</span> <tweet class="inline-block" text.bind="submissionText" hashtags="aurelia-minesweeper"/> </h4> </div> <div class="small-1 columns"> <h4 class="float-right submission__close" click.delegate="closeSubmission()">X</h4> </div> </div> <div if.bind="activeSubmission.isHighscore" class="row"> <div class="columns"> <span if.bind="!activeSubmission.isSubmitted"> <input type="text" class="submission__name ${activeSubmission.isInvalid ? \'submission__name--invalid\' : \'\'}" value.bind="activeSubmission.name" placeholder="Enter name" maxlength="24"/> <button class="submission__button" click.delegate="submit(activeSubmission)">Submit</button> </span> <span if.bind="activeSubmission.isSubmitted">Highscore submitted!</span> <br><br> </div> </div> </div> </div> <div class="row medium-unstack"> <div class="columns highscores__container" repeat.for="category of visibleCategories"> <div class="highscores__category highscores__border"> <h4 class="highscores__header">${category.name}</h4> <div class="row" repeat.for="entry of leaderboard.all[category.difficulty] | sort:\'time\':\'ascending\' | take:10"> <div class="small-1 columns">${$index + 1}.</div> <div class="small-8 columns"> ${entry.name} <img class="submission__flag highscores__border" if.bind="entry.country" src="/img/flag/${entry.country}.png"> </div> <div class="small-3 columns text-right">${entry.time}</div> </div> <div class="row" if.bind="leaderboard.all[category.difficulty].length === 0"> <div class="columns">Nothing to show here.</div> </div> </div> </div> </div> <div class="row" if.bind="isUsingLocalStorage"> <h5 class="columns">Highscores are stored in local storage!</h5> </div> </template>'},76:function(e,t){e.exports='<template keypress.delegate="onKeypress($event)"> <require from="./settings.css"></require> <div class="row"> <div class="small-6 medium-3 columns"> </div> <div class="small-2 medium-3 columns"> <h4 class="inline">Width</h4> </div> <div class="small-2 medium-3 columns"> <h4 class="inline">Height</h4> </div> <div class="small-2 medium-3 columns"> <h4 class="inline">Mines</h4> </div> </div> <div class="row" repeat.for="entry of allSettings"> <div class="small-6 medium-3 columns"> <input id="diff-${entry.difficulty}" type="radio" name="diff" model.bind="entry" checked.bind="settings" matcher.bind="settingsComparer"/> <label for="diff-${entry.difficulty}"><h4 class="inline">&nbsp;${entry.name}</h4></label> </div> <div class="small-2 medium-3 columns"> <span if.bind="entry.difficulty !== GameDifficulty.Custom">${entry.width}</span> <input if.bind="entry.difficulty === GameDifficulty.Custom" value.bind="entry.width" disabled.bind="settings !== entry" class="settings__input" type="number" min="1" max="100" step="1"/> </div> <div class="small-2 medium-3 columns"> <span if.bind="entry.difficulty !== GameDifficulty.Custom">${entry.height}</span> <input if.bind="entry.difficulty === GameDifficulty.Custom" value.bind="entry.height" disabled.bind="settings !== entry" class="settings__input" type="number" min="1" max="100" step="1"/> </div> <div class="small-2 medium-3 columns"> <span if.bind="entry.difficulty !== GameDifficulty.Custom">${entry.numMines}</span> <input if.bind="entry.difficulty === GameDifficulty.Custom" value.bind="entry.numMines" disabled.bind="settings !== entry" class="settings__input" type="number" min="0" max="9999" step="1"/> </div> </div> <div class="row"> <div class="columns"> <button class="settings__button" click.delegate="newGame()">New Game</button> </div> </div> </template>'},77:function(e,t){e.exports='<template> <iframe src="https://ghbtns.com/github-btn.html?user=${user}&repo=${repo}&type=${type}&count=${count}&size=${size}" frameborder="0" scrolling="0" width="${width}" height="${height}"></iframe> </template>'},78:function(e,t){e.exports='<template> <require from="./tweet.css"></require> <a class="tweet" href="${shareLink}" ref="link" target="_blank" click.delegate="onClick($event)"> Tweet </a> </template>'},80:function(e,t,r){e.exports=r.p+"f4b78c14c5ee412b78f687e3934b519f.png"},81:function(e,t,r){(function(e){!function(t){"use strict";function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(t){return t.bodyUsed?e.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function fileReaderReady(t){return new e(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader;return t.readAsArrayBuffer(e),fileReaderReady(t)}function readBlobAsText(e){var t=new FileReader;return t.readAsText(e),fileReaderReady(t)}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(r.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob?(this.blob=function(){var t=consumed(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)},this.text=function(){var t=consumed(this);if(t)return t;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)}):this.text=function(){var t=consumed(this);return t?t:e.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(e){var t=e.toUpperCase();return n.indexOf(t)>-1?t:e}function Request(e,t){t=t||{};var r=t.body;if(Request.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function headers(e){var t=new Headers,r=(e.getAllResponseHeaders()||"").trim().split("\n");return r.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),i=r.join(":").trim();t.append(n,i)}),t}function Response(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof Headers?t.headers:new Headers(t.headers),this.url=t.url||"",this._initBody(e)}if(!t.fetch){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(t)},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){var t=this.map[normalizeName(e)];return t?t[0]:null},Headers.prototype.getAll=function(e){return this.map[normalizeName(e)]||[]},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=[normalizeValue(t)]},Headers.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),iteratorFor(e)},r.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this)},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},t.Headers=Headers,t.Request=Request,t.Response=Response,t.fetch=function(t,n){return new e(function(e,i){function responseURL(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=Request.prototype.isPrototypeOf(t)&&!n?t:new Request(t,n);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:headers(s),url:responseURL()},r="response"in s?s.response:s.responseText;e(new Response(r,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}).call(t,r("bluebird"))},82:function(e,t,r){function webpackContext(e){return r(webpackContextResolve(e))}function webpackContextResolve(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./app":63,"./app.css":66,"./app.html":73,"./aurelia-animator-css":"aurelia-animator-css","./aurelia-bootstrapper-webpack":"aurelia-bootstrapper-webpack","./aurelia-event-aggregator":"aurelia-event-aggregator","./aurelia-fetch-client":"aurelia-fetch-client","./aurelia-framework":"aurelia-framework","./aurelia-history-browser":"aurelia-history-browser","./aurelia-loader-webpack":"aurelia-loader-webpack","./aurelia-logging-console":"aurelia-logging-console","./aurelia-pal-browser":"aurelia-pal-browser","./aurelia-polyfills":"aurelia-polyfills","./aurelia-route-recognizer":"aurelia-route-recognizer","./aurelia-router":"aurelia-router","./aurelia-templating-binding":"aurelia-templating-binding","./aurelia-templating-resources":"aurelia-templating-resources","./aurelia-templating-resources/binding-mode-behaviors":18,"./aurelia-templating-resources/binding-mode-behaviors.js":18,"./aurelia-templating-resources/compose":19,"./aurelia-templating-resources/compose.js":19,"./aurelia-templating-resources/debounce-binding-behavior":20,"./aurelia-templating-resources/debounce-binding-behavior.js":20,"./aurelia-templating-resources/focus":21,"./aurelia-templating-resources/focus.js":21,"./aurelia-templating-resources/hide":22,"./aurelia-templating-resources/hide.js":22,"./aurelia-templating-resources/if":23,"./aurelia-templating-resources/if.js":23,"./aurelia-templating-resources/repeat":24,"./aurelia-templating-resources/repeat.js":24,"./aurelia-templating-resources/replaceable":25,"./aurelia-templating-resources/replaceable.js":25,"./aurelia-templating-resources/sanitize-html":26,"./aurelia-templating-resources/sanitize-html.js":26,"./aurelia-templating-resources/show":27,"./aurelia-templating-resources/show.js":27,"./aurelia-templating-resources/signal-binding-behavior":28,"./aurelia-templating-resources/signal-binding-behavior.js":28,"./aurelia-templating-resources/throttle-binding-behavior":29,"./aurelia-templating-resources/throttle-binding-behavior.js":29,"./aurelia-templating-resources/update-trigger-binding-behavior":30,"./aurelia-templating-resources/update-trigger-binding-behavior.js":30,"./aurelia-templating-resources/with":31,"./aurelia-templating-resources/with.js":31,"./aurelia-templating-router":"aurelia-templating-router","./aurelia-templating-router/route-href":32,"./aurelia-templating-router/route-href.js":32,"./aurelia-templating-router/router-view":33,"./aurelia-templating-router/router-view.js":33,"./bluebird":"bluebird","./component/gameboard":48,"./component/gameboard.css":67,"./component/gameboard.html":74,"./component/gameboard.js":48,"./component/leaderboard":49,"./component/leaderboard.css":68,"./component/leaderboard.html":75,"./component/leaderboard.js":49,"./component/settings":50,"./component/settings.css":69,"./component/settings.html":76,"./component/settings.js":50,"./component/social/github-button":51,"./component/social/github-button.html":77,"./component/social/github-button.js":51,"./component/social/tweet":52,"./component/social/tweet.css":70,"./component/social/tweet.html":78,"./component/social/tweet.js":52,"./events":11,"./game/minesweeper":34,"./game/settings":14,"./game/square":35,"./isomorphic-fetch":"isomorphic-fetch","./main":64,"./storage/localLeaderboardStorage":53,"./storage/remoteLeaderboardStorage":54,"./utility/input":9,"./utility/slide":55,"./utility/slide.js":55,"./utility/sort":56,"./utility/sort.js":56,"./utility/take":57,"./utility/take.js":57,"./utility/timer":58};webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=82},83:function(e,t){},9:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MouseButton={Left:1,Right:3},t.Key={Escape:27,Enter:13}},"aurelia-fetch-client":function(e,t,r){"use strict";(function(e){function json(e){return new Blob([JSON.stringify(e)],{type:"application/json"})}function rejectOnError(e){if(!e.ok)throw e;return e}function trackRequestStart(){this.isRequesting=!!++this.activeRequestCount}function trackRequestEnd(){this.isRequesting=!!--this.activeRequestCount}function trackRequestEndWith(e){var t=trackRequestEnd.bind(this);return e.then(t,t),e}function parseHeaderValues(e){var t={};for(var r in e||{})e.hasOwnProperty(r)&&(t[r]="function"==typeof e[r]?e[r]():e[r]);return t}function buildRequest(e,t){var r=this.defaults||{},n=void 0,i=void 0,o=void 0,s=parseHeaderValues(r.headers);if(Request.prototype.isPrototypeOf(e))n=e,o=new Headers(n.headers).get("Content-Type");else{t||(t={}),i=t.body;var a=i?{body:i}:null,u=Object.assign({},r,{headers:{}},t,a);o=new Headers(u.headers).get("Content-Type"),n=new Request(getRequestUrl(this.baseUrl,e),u)}return!o&&new Headers(s).has("content-type")&&n.headers.set("Content-Type",new Headers(s).get("content-type")),setDefaultHeaders(n.headers,s),i&&Blob.prototype.isPrototypeOf(i)&&i.type&&n.headers.set("Content-Type",i.type),n}function getRequestUrl(e,t){return i.test(t)?t:(e||"")+t}function setDefaultHeaders(e,t){for(var r in t||{})t.hasOwnProperty(r)&&!e.has(r)&&e.set(r,t[r])}function processRequest(e,t){return applyInterceptors(e,t,"request","requestError")}function processResponse(e,t,r){return applyInterceptors(e,t,"response","responseError",r)}function applyInterceptors(t,r,n,i){for(var o=arguments.length,s=Array(o>4?o-4:0),a=4;o>a;a++)s[a-4]=arguments[a];return(r||[]).reduce(function(e,t){var r=t[n],o=t[i];return e.then(r&&function(e){return r.call.apply(r,[t,e].concat(s))}||identity,o&&function(e){return o.call.apply(o,[t,e].concat(s))}||thrower)},e.resolve(t))}function identity(e){return e}function thrower(e){throw e}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.json=json;var n=t.HttpClientConfiguration=function(){function HttpClientConfiguration(){this.baseUrl="",this.defaults={},this.interceptors=[]}return HttpClientConfiguration.prototype.withBaseUrl=function(e){return this.baseUrl=e,this},HttpClientConfiguration.prototype.withDefaults=function(e){return this.defaults=e,this},HttpClientConfiguration.prototype.withInterceptor=function(e){return this.interceptors.push(e),this},HttpClientConfiguration.prototype.useStandardConfiguration=function(){var e={credentials:"same-origin"};return Object.assign(this.defaults,e,this.defaults),this.rejectErrorResponses()},HttpClientConfiguration.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:rejectOnError})},HttpClientConfiguration}(),i=(t.HttpClient=function(){function HttpClient(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch.")}return HttpClient.prototype.configure=function(e){var t,i=void 0;if("object"===("undefined"==typeof e?"undefined":r(e)))i={defaults:e};else{if("function"!=typeof e)throw new Error("invalid config");i=new n;var o=e(i);n.prototype.isPrototypeOf(o)&&(i=o)}var s=i.defaults;if(s&&Headers.prototype.isPrototypeOf(s.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=i.baseUrl,this.defaults=s,(t=this.interceptors).push.apply(t,i.interceptors||[]),this.isConfigured=!0,this},HttpClient.prototype.fetch=function(e){function fetch(t,r){return e.apply(this,arguments)}return fetch.toString=function(){return e.toString()},fetch}(function(t,r){var n=this;trackRequestStart.call(this);var i=e.resolve().then(function(){return buildRequest.call(n,t,r,n.defaults)}),o=processRequest(i,this.interceptors).then(function(t){var r=null;if(Response.prototype.isPrototypeOf(t))r=t;else{if(!Request.prototype.isPrototypeOf(t))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+t+"]");i=e.resolve(t),r=fetch(t)}return i.then(function(e){return processResponse(r,n.interceptors,e)})});return trackRequestEndWith.call(this,o)}),HttpClient}(),/^([a-z][a-z0-9+\-.]*:)?\/\//i)}).call(t,r("bluebird"))},"isomorphic-fetch":function(e,t,r){r(81),e.exports=self.fetch.bind(self)}},[83]);