"bundle";!function(){var a=System.get("@@amd-helpers").createDefine();define("app.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return".section__header{height:80px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px rgba(0,0,0,.2);background-color:#FFF;position:relative}.section__settings{-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px rgba(0,0,0,.2),inset 0 -2px 4px rgba(0,0,0,.2);position:relative;max-height:0;overflow-y:hidden}.section__gameboard{margin:0 auto;padding:20px 0;text-align:center;background-image:-webkit-gradient(linear,top,from(#6E4D9B),to(#E82887));background-image:-webkit-linear-gradient(top,#6E4D9B,#E82887);background-image:-moz-linear-gradient(top,#6E4D9B,#E82887);background-image:linear-gradient(to top,#6E4D9B,#E82887)}.brand{height:80px}.github-button{display:inline-block;vertical-align:middle;line-height:0;margin:10px 0 0 10px}.slide{max-height:170px;padding:10px 0}.slide-add{-webkit-animation:slide-in .5s;animation:slide-in .5s}.slide-remove{-webkit-animation:slide-out .5s;animation:slide-out .5s}@-webkit-keyframes slide-in{0%{max-height:0;padding:0}100%{max-height:170px;padding:10px 0}}@keyframes slide-in{0%{max-height:0;padding:0}100%{max-height:170px;padding:10px 0}}@-webkit-keyframes slide-out{0%{max-height:170px;padding:10px 0}100%{max-height:0;padding:0}}@keyframes slide-out{0%{max-height:170px;padding:10px 0}100%{max-height:0;padding:0}}"}),a()}(),function(){var a=System.get("@@amd-helpers").createDefine();define("app.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="./app.css"></require> <require from="./utility/slide"></require> <require from="./component/settings"></require> <require from="./component/gameboard"></require> <require from="./component/leaderboard"></require> <require from="./component/social/github-button"></require>  <header class="section__header"> <div class="row"> <div class="small-10 columns align-middle"> <img class="brand" src="img/logo.png" alt="#aurelia-minesweeper"> <github-button class="github-button hide-for-small-only" user="discosultan" repo="aurelia-minesweeper" type="star" width="50px" height="24px"> </github-button></div> <div class="small-2 columns align-middle"> <a href="javascript:void(0)" click.delegate="settingsOpen = !settingsOpen"> <img class="float-right" src="img/settings.png" width="42px" height="42px"> </a> </div> </div> </header>  <section slide.bind="settingsOpen" class="section__settings"> <settings settings.two-way="settings" keydown.delegate="onSettingsKeydown($event)"> </settings></section>  <section class="section__gameboard"> <gameboard class="inline-block" settings.bind="settings"> </gameboard></section>  <section class="section__leaderboard"> <leaderboard> </leaderboard></section> </template>'}),a()}(),System.register("app.js",["aurelia-framework","aurelia-event-aggregator","./game/settings","./utility/input","./events"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f,g,h,i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.EventAggregator},function(a){e=a.GameSettings},function(a){f=a.Key},function(a){g=a.NewGameRequestedEvent}],execute:function(){h=function(){function a(a){var c=this;b(this,h),this.settingsOpen=!1,this.settings=e.beginner(),a.subscribe(g,function(a){a.settings.isValid()&&(c.settingsOpen=!1)})}i(a,[{key:"onSettingsKeydown",value:function(a){return a.which===f.Escape&&(this.settingsOpen=!1),!0}}]);var h=a;return a=c(d)(a)||a}(),a("App",h)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("base.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return"body{background-color:#F7F7F7;color:#777}h1,h2,h3,h4,h5,h6{color:#444}.no-padding{padding:0}.no-wrap{white-space:nowrap}.weight-normal{font-weight:400}.text-right{text-align:right}.inline-block{display:inline-block}.inline{display:inline}.clear-left{clear:left}.center{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}"}),a()}(),function(){var a=System.get("@@amd-helpers").createDefine();define("component/gameboard.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return".label{color:#E82887;border-color:#E82887;text-shadow:none;background:#FFF;-webkit-box-shadow:0 7px 10px rgba(0,0,0,.2);-moz-box-shadow:0 7px 10px rgba(0,0,0,.2);box-shadow:0 7px 10px rgba(0,0,0,.2);font-size:1.2em;border-radius:4px;height:40px;line-height:40px}.label__icon{height:40px;float:left}.smiley{height:36px;width:36px;background-image:url(img/smileys_black.png);background-size:144px 36px;display:inline-block}.smiley--happy{background-position:0 0}.smiley--scared{background-position:-36px 0}.smiley--cool{background-position:-72px 0}.smiley--dead{background-position:-108px 0}.square--open .smiley{margin:2px 0 0 2px}.minefield{-webkit-box-shadow:0 4px 40px rgba(0,0,0,.4);-moz-box-shadow:0 4px 40px rgba(0,0,0,.4);box-shadow:0 4px 40px rgba(0,0,0,.4);display:table;margin:10px auto auto}.board__header{min-width:252px}.square{display:inline-block;width:28px;height:28px;line-height:28px;text-align:center;font-family:'Courier New',Courier,'Lucida Sans Typewriter','Lucida Typewriter',monospace;font-weight:700;font-size:1.5em;color:#fff;vertical-align:top}.square__image{vertical-align:baseline;width:24px;height:24px}.square--closed{border-top:2px solid #FFF;border-left:2px solid #FFF;border-bottom:2px solid #7B7B7B;border-right:2px solid #7B7B7B;background-color:#BDBDBD}.square--open{border-top:2px solid #7B7B7B;border-left:2px solid #7B7B7B;border-bottom:2px solid #BDBDBD;border-right:2px solid #BDBDBD;background-color:#BDBDBD}.game-over{background-color:red}.color-0{color:silver}.color-1{color:#0100FE}.color-2{color:#017F01}.color-3{color:#FE0000}.color-4{color:#010080}.color-5{color:#810102}.color-6{color:#008081}.color-7{color:#000}.color-8{color:grey}"}),a()}(),function(){var a=System.get("@@amd-helpers").createDefine();define("component/gameboard.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="./gameboard.css"></require>  <div class="row board__header"> <div class="small-4 columns label no-padding no-wrap"> <img class="label__icon" src="img/mine.png" alt="mines"> ${minesweeper.settings.numMines - minesweeper.numFlagged} </div> <div class="columns"> <div class="label ${isSmileyPressed ? \'square--open\' : \'square--closed\'}" mousedown.delegate="onSmileyMouseDown($event)" mouseup.delegate="onSmileyMouseUp($event)" mouseout.delegate="onSmileyMouseOut($event)"> <div class="smiley smiley--happy" if.bind="(minesweeper.state === GameState.ReadyToPlay || minesweeper.state === GameState.Playing) && !isPressValid"></div> <div class="smiley smiley--scared" if.bind="(minesweeper.state === GameState.ReadyToPlay || minesweeper.state === GameState.Playing) && isPressValid"></div> <div class="smiley smiley--cool" if.bind="minesweeper.state === GameState.Won"></div> <div class="smiley smiley--dead" if.bind="minesweeper.state === GameState.Lost"></div> </div> </div> <div class="small-4 columns label no-padding no-wrap"> <img class="label__icon" src="img/timer.png" alt="timer"> ${minesweeper.time} </div> </div>  <div class="minefield no-wrap"> <div repeat.for="row of minesweeper.squares" class="no-wrap"> <div repeat.for="square of row" class="square no-wrap color-${square.numAdjacentMines} ${(square.state === SquareState.Open || square.state === SquareState.Pressed) ? \'square--open\' : \'square--closed\'} ${square.causedGameOver ? \'game-over\' : \'\'}" mousedown.delegate="onSquareMouseDown(square, $event)" mouseup.delegate="onSquareMouseUp(square, $event)" mouseover.delegate="onSquareMouseOver(square, $event)" mouseout.delegate="onSquareMouseOut(square, $event)" contextmenu.delegate="onSquareContextMenu(square, $event)"> <img class="square__image" if.bind="square.state === SquareState.Open && square.numAdjacentMines < 0" src="img/mine.png" alt="mine"> <img class="square__image" if.bind="square.state === SquareState.Flagged" src="img/flag.png" alt="flag"> <span if.bind="square.state === SquareState.Open && square.numAdjacentMines > 0">${square.numAdjacentMines}</span> </div> </div> </div> </template>'}),a()}(),System.register("component/gameboard.js",["aurelia-framework","aurelia-event-aggregator","../utility/input","../game/minesweeper","../game/square","../events"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b,c){var d=c[b];if(d){var e={};for(var f in d)e[f]=d[f];e.value=e.initializer?e.initializer.call(a):void 0,Object.defineProperty(a,b,e)}}var d,e,f,g,h,i,j,k,l,m,n=function(){function a(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.decorators,g=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),f){for(var h=0;h<f.length;h++){var i=f[h];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,g,e)||e}if(void 0!==e.initializer){c[g]=e;continue}}Object.defineProperty(a,g,e)}}return function(b,c,d,e,f){return c&&a(b.prototype,c,e),d&&a(b,d,f),b}}();return{setters:[function(a){d=a.bindable,e=a.inject},function(a){f=a.EventAggregator},function(a){g=a.MouseButton},function(a){h=a.Minesweeper,i=a.GameState},function(a){j=a.SquareState},function(a){k=a.GameStateChangedEvent,l=a.NewGameRequestedEvent}],execute:function(){m=function(){function a(a){var d=this;b(this,o),this.GameState=i,this.SquareState=j,c(this,"settings",m),this._eventAggregator=a,this._mouseUpCallback=this._onMouseUp.bind(this),this._eventAggregator.subscribe(l,function(a){return d.restart()})}var m={},m={};n(a,[{key:"settings",decorators:[d],initializer:function(){return null},enumerable:!0}],null,m),n(a,[{key:"attached",value:function(){window.addEventListener("mouseup",this._mouseUpCallback,!1),this.restart()}},{key:"detached",value:function(){window.removeEventListener("mouseup",this._mouseUpCallback)}},{key:"restart",value:function(){this.settings&&this.settings.isValid()&&(this.minesweeper=new h(this.settings))}},{key:"onSmileyMouseDown",value:function(a){a.which===g.Left&&(this.isSmileyPressed=!0)}},{key:"onSmileyMouseUp",value:function(a){a.which===g.Left&&(this.isSmileyPressed=!1,this.restart())}},{key:"onSmileyMouseOut",value:function(a){a.which===g.Left&&(this.isSmileyPressed=!1)}},{key:"onSquareMouseDown",value:function(a,b){b.which===g.Left?(this.isMouseLeftDown=!0,this.isPressValid=!0,this.minesweeper.pressSquare(a,this._isChording())):b.which===g.Right&&(this.isMouseRightDown=!0,this.isMouseLeftDown&&(this.isPressValid=!0,this.minesweeper.pressSquare(a,this._isChording())))}},{key:"onSquareMouseUp",value:function(a,b){if(this.isMouseLeftDown&&(b.which===g.Left||b.which===g.Right)){var c=this.minesweeper.state;this.minesweeper.openSquare(a,this._isChording());var d=this.minesweeper.state;c!==d&&this._eventAggregator.publish(new k(this.minesweeper,c,d)),this.isPressValid=!1}}},{key:"onSquareMouseOver",value:function(a,b){!this.isPressValid||b.which!==g.Left&&b.which!==g.Right||this.minesweeper.pressSquare(a,this._isChording())}},{key:"onSquareMouseOut",value:function(a,b){this.minesweeper.releaseSquare(a,this._isChording())}},{key:"onSquareContextMenu",value:function(a,b){b.preventDefault(),!this.isMouseLeftDown&&b.which&&b.which===g.Right&&this.minesweeper.toggleSquareFlag(a)}},{key:"_isChording",value:function(){return this.isMouseLeftDown&&this.isMouseRightDown}},{key:"_onMouseUp",value:function(a){a.which===g.Left?(this.isMouseLeftDown=!1,this.isPressValid=!1):a.which===g.Right&&(this.isMouseRightDown=!1)}}],null,m);var o=a;return a=e(f)(a)||a}(),a("Gameboard",m)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("component/leaderboard.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return".highscores__category,.highscores__submission{background:#FFF;color:#555}.highscores__container{padding:10px}.highscores__category{padding:0 10px 20px}.highscores__header{color:#EA2988}.highscores__emphasized{color:#3D3D3D}.highscores__border{border:1px solid #DADADA;box-shadow:0 1px 2px 0 rgba(0,0,0,.1);border-radius:4px}.submission__name{padding:9px;border:2px solid #D0D0D0;border-radius:3px}.submission__name--invalid{border-color:#E85C41}.submission__button{background-color:#EA2988;color:#FFF;height:40px;line-height:40px;padding:0 14px;border-radius:3px}.submission__button:hover{background-color:#FF2D94}.submission__close{color:#DADADA;cursor:pointer}.submission__flag{margin:0 2px;max-width:24px}"}),a()}(),function(){var a=System.get("@@amd-helpers").createDefine();define("component/leaderboard.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="../utility/sort"></require> <require from="../utility/take"></require> <require from="./leaderboard.css"></require> <require from="./social/tweet"></require>  <div class="row highscores__container" if.bind="activeSubmission" keydown.delegate="onSubmissionKeydown(activeSubmission, $event)"> <div class="columns highscores__submission highscores__border"> <div class="row"> <div class="small-11 columns"> <h4 class="highscores__emphasized inline-block"> <span class="highscores__header">Congratulations!</span> <span class="weight-normal">You beat</span> #aurelia-minesweeper <span class="weight-normal">in</span> ${activeSubmission.time} seconds <span class="weight-normal">on</span> ${categoriesMap[activeSubmission.difficulty].name} mode<span class="weight-normal">!&nbsp;</span> <tweet class="inline-block" text.bind="submissionText" hashtags="aurelia-minesweeper"> </h4> </div> <div class="small-1 columns"> <h4 class="float-right submission__close" click.delegate="closeSubmission()">X</h4> </div> </div> <div if.bind="activeSubmission.isHighscore" class="row"> <div class="columns"> <span if.bind="!activeSubmission.isSubmitted"> <input class="submission__name ${activeSubmission.isInvalid ? \'submission__name--invalid\' : \'\'}" value.bind="activeSubmission.name" placeholder="Enter name" maxlength="24"> <button class="submission__button" click.delegate="submit(activeSubmission)">Submit</button> </span> <span if.bind="activeSubmission.isSubmitted">Highscore submitted!</span> <br><br> </div> </div> </div> </div>  <div class="row medium-unstack"> <div class="columns highscores__container" repeat.for="category of visibleCategories"> <div class="highscores__category highscores__border"> <h4 class="highscores__header">${category.name}</h4> <div class="row" repeat.for="entry of leaderboard.all[category.difficulty] | sort:\'time\':\'ascending\' | take:10"> <div class="small-1 columns">${$index + 1}.</div> <div class="small-8 columns"> ${entry.name} <img class="submission__flag highscores__border" if.bind="entry.country" src="img/flag/${entry.country}.png"> </div> <div class="small-3 columns text-right">${entry.time}</div> </div> <div class="row" if.bind="leaderboard.all[category.difficulty].length === 0"> <div class="columns">Nothing to show here.</div> </div> </div> </div> </div>  <div class="row" if.bind="isUsingLocalStorage"> <h5 class="columns">Highscores are stored in local storage!</h5> </div> </template>'}),a()}(),System.register("storage/remoteLeaderboardStorage.js",["fetch","aurelia-framework","aurelia-fetch-client"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f,g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){},function(a){c=a.inject},function(a){d=a.HttpClient,e=a.json}],execute:function(){f=function(){function a(a){b(this,f),a.configure(function(a){a.withBaseUrl("//jwin.cloudapp.net:3000/"),a.rejectErrorResponses()}),this._http=a}g(a,[{key:"isAvailable",value:function(){var a=this;return new Promise(function(b,c){a._http.fetch("test").then(function(a){return b()},function(a){return c(a)})})}},{key:"get",value:function(){var a=this;return new Promise(function(b,c){a._http.fetch("leaderboard").then(function(a){return b(a.json())},function(a){return c(a)})})}},{key:"push",value:function(a){var b=this;return new Promise(function(c,d){b._http.fetch("leaderboard",{method:"post",body:e(a)}).then(function(a){return c()},function(a){return d(a)})})}}]);var f=a;return a=c(d)(a)||a}(),a("RemoteLeaderboardStorage",f)}}}),System.register("storage/localLeaderboardStorage.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(){b(this,a),this._key="leaderboard_v1",this._storage=window.localStorage}return d(a,[{key:"isAvailable",value:function(){var a=this;return new Promise(function(b,c){a._storage?b():c()})}},{key:"get",value:function(){var a=this;return new Promise(function(b,c){if(a._storage){var d=a._getBlob();b(d)}else c()})}},{key:"push",value:function(a){var b=this;return new Promise(function(c,d){if(b._storage){var e=b._getBlob();e||(e={all:{}});var f=e.all[a.difficulty];f||(f=[],e.all[a.difficulty]=f),f.push(a),b._storage.setItem(b._key,JSON.stringify(e)),c()}else d()})}},{key:"_getBlob",value:function(){return JSON.parse(this._storage.getItem(this._key))}}]),a}(),a("LocalLeaderboardStorage",c)}}}),System.register("game/square.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(c,e){b(this,a),this.state=d.Closed,this.causedGameOver=!1,this.numAdjacentMines=0,this.x=c,this.y=e}return e(a,[{key:"press",value:function(){return this.state===d.Closed?this.state=d.Pressed:void 0}},{key:"release",value:function(){return this.state===d.Pressed?this.state=d.Closed:void 0}},{key:"open",value:function(){return this.state===d.Pressed?this.state=d.Open:void 0}},{key:"flag",value:function(){return this.state===d.Closed?this.state=d.Flagged:void 0}},{key:"unflag",value:function(){return this.state===d.Flagged?this.state=d.Closed:void 0}},{key:"hasMine",get:function(){return this.numAdjacentMines<0}}]),a}(),a("Square",c),d={Closed:1,Pressed:2,Flagged:4,Open:8},a("SquareState",d)}}}),System.register("utility/timer.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(c,d){b(this,a),this.action=c,this.interval=d,this._windowIntervalHandle=null}return d(a,[{key:"start",value:function(){this._windowIntervalHandle&&this.stop(),this._windowIntervalHandle=window.setInterval(this.action,this.interval)}},{key:"stop",value:function(){this._windowIntervalHandle&&(window.clearInterval(this._windowIntervalHandle),this._windowIntervalHandle=null)}}]),a}(),a("Timer",c)}}}),System.register("game/minesweeper.js",["./square","../utility/timer"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f,g,h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.Square,d=a.SquareState},function(a){e=a.Timer}],execute:function(){f=function(){function a(c){var d=this;if(b(this,a),!c.isValid())throw"Minefield width and height must be larger than zero and number of mines must be less than "+c.width*c.height+"!";this._timer=new e(function(){return d.time++},1e3),this.settings=c.clone(),this.reset()}return h(a,[{key:"pressSquare",value:function(a,b){this.state&g.GameOver||(a.press(),b&&this._performOnAdjacentSquares(a,function(a){return a.press()}))}},{key:"releaseSquare",value:function(a,b){a.release(),b&&this._performOnAdjacentSquares(a,function(a){return a.release()})}},{key:"openSquare",value:function(a,b){var c=this;this.state&g.GameOver||(b?!function(){var b=a.numAdjacentMines,e=0;c._performOnAdjacentSquares(a,function(a){a.state===d.Flagged&&e++}),a.state===d.Open&&e>0&&b===e?c._performOnAdjacentSquares(a,function(a){return c._openSquareInner(a)}):c.releaseSquare(a,!0)}():this._openSquareInner(a))}},{key:"toggleSquareFlag",value:function(a){this.state&g.GameOver||(a.state===d.Flagged?this._unflagSquare(a):this._flagSquare(a))}},{key:"reset",value:function(){this.numOpened=0,this.numFlagged=0,this.time=0,this._initializeSquares(),this._setState(g.ReadyToPlay)}},{key:"_initializeSquares",value:function(){this.squares=new Array(this.settings.height);for(var a=0;a<this.settings.height;a++){this.squares[a]=new Array(this.settings.width);for(var b=0;b<this.settings.width;b++)this.squares[a][b]=new c(b,a)}}},{key:"_ensureGameStarted",value:function(a){this.state===g.ReadyToPlay&&(this._randomlyDistributeMines(a),this._setState(g.Playing),this._timer.start())}},{key:"_setState",value:function(a){this.state=a}},{key:"_randomlyDistributeMines",value:function(a){for(var b=this,c=0;c<this.settings.numMines;c++){var d=void 0,e=function(){var c=Math.floor(Math.random()*b.settings.width),e=Math.floor(Math.random()*b.settings.height),f=b.squares[e][c];if(!f.hasMine&&f!==a){var g=!1;b._performOnAdjacentSquares(a,function(a){f===a&&(g=!0)});var h=b.settings.width*b.settings.height;(!g||b.settings.numMines>h-9)&&(d=f)}};do e();while(!d);d.numAdjacentMines=-this.settings.numMines,this._performOnAdjacentSquares(d,function(a){return a.numAdjacentMines++})}}},{key:"_openSquareInner",value:function(a){a.open()&&(this._ensureGameStarted(a),this.numOpened++,a.hasMine?this._onOpenedMinedSquare(a):this._onOpenedNormalSquare(a))}},{key:"_onOpenedMinedSquare",value:function(a){a.causedGameOver=!0,this._timer.stop(),this._setState(g.Lost),this._performOnAllSquares(function(a){a.hasMine&&(a.press(),a.open())})}},{key:"_onOpenedNormalSquare",value:function(a){var b=this;this.numOpened===this.settings.width*this.settings.height-this.settings.numMines&&(this._timer.stop(),this._setState(g.Won),this._performOnAllSquares(function(a){a.hasMine&&b._flagSquare(a)})),0===a.numAdjacentMines&&this._performOnAdjacentSquares(a,function(a){b.pressSquare(a),b.openSquare(a)})}},{key:"_flagSquare",value:function(a){a.flag()&&this.numFlagged++}},{key:"_unflagSquare",value:function(a){a.unflag()&&this.numFlagged--}},{key:"_performOnAllSquares",value:function(a){for(var b=0;b<this.settings.height;b++)for(var c=0;c<this.settings.width;c++)a(this.squares[b][c])}},{key:"_performOnAdjacentSquares",value:function(a,b){for(var c=a.y-1;c<=a.y+1;c++)for(var d=a.x-1;d<=a.x+1;d++)d>=0&&c>=0&&d<this.settings.width&&c<this.settings.height&&(d!==a.x||c!==a.y)&&b(this.squares[c][d])}}]),a}(),a("Minesweeper",f),g={ReadyToPlay:1,Playing:2,Won:4,Lost:8,GameOver:12},a("GameState",g)}}}),System.register("component/leaderboard.js",["aurelia-framework","aurelia-event-aggregator","../utility/input","../storage/remoteLeaderboardStorage","../storage/localLeaderboardStorage","../game/minesweeper","../game/settings","../events"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f,g,h,i,j,k,l,m,n=function(){function a(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.decorators,g=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),f){for(var h=0;h<f.length;h++){var i=f[h];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,g,e)||e}if(void 0!==e.initializer){c[g]=e;continue}}Object.defineProperty(a,g,e)}}return function(b,c,d,e,f){return c&&a(b.prototype,c,e),d&&a(b,d,f),b}}();return{setters:[function(a){c=a.inject,d=a.computedFrom},function(a){e=a.EventAggregator},function(a){f=a.Key},function(a){g=a.RemoteLeaderboardStorage},function(a){h=a.LocalLeaderboardStorage},function(a){i=a.GameState},function(a){j=a.GameSettings,k=a.GameDifficulty},function(a){l=a.GameStateChangedEvent}],execute:function(){m=function(){function a(a,c,d){var e=this;b(this,m),this.visibleCategories=[j.expert(),j.intermediate(),j.beginner()],this.categoriesMap={},this.leaderboard={all:{}},this.activeSubmission=null;var f=!0,g=!1,h=void 0;try{for(var i,k=this.visibleCategories[Symbol.iterator]();!(f=(i=k.next()).done);f=!0){var n=i.value;this.leaderboard.all[n.difficulty]=[],this.categoriesMap[n.difficulty]=n}}catch(o){g=!0,h=o}finally{try{!f&&k["return"]&&k["return"]()}finally{if(g)throw h}}var p=j.custom();this.categoriesMap[p.difficulty]=p,c.isAvailable().then(function(){e._storage=c,e.getScores()},function(){e._storage=d,e.isUsingLocalStorage=!0,e.getScores()}),a.subscribe(l,this._gameStateChanged.bind(this))}n(a,[{key:"getScores",value:function(){var a=this;this._storage.get().then(function(b){if(b)for(var c in b.all)a.leaderboard.all[c]=b.all[c]})}},{key:"submit",value:function(a){var b=this;a.name&&!a.name.match(/^\s+$/)?(a.isSubmitted=!0,this._storage.push(a).then(function(){b.getScores()})):a.isInvalid=!0}},{key:"onSubmissionKeydown",value:function(a,b){return b.which===f.Enter?this.submit(a):b.which===f.Escape&&this.closeSubmission(),!0}},{key:"closeSubmission",value:function(){this.activeSubmission=null}},{key:"_gameStateChanged",value:function(a){a.currentState===i.Won&&(this.activeSubmission={time:a.minesweeper.time,difficulty:a.minesweeper.settings.difficulty},this.activeSubmission.isHighscore=this._isHighscoreSubmission(this.activeSubmission))}},{key:"_isHighscoreSubmission",value:function(a){return a.difficulty!==k.Custom}},{key:"submissionText",decorators:[d("activeSubmission")],get:function(){return this.activeSubmission?"I beat #aurelia-minesweeper in "+this.activeSubmission.time+" seconds on "+this.categoriesMap[this.activeSubmission.difficulty].name+" mode!":void 0}}]);var m=a;return a=c(e,g,h)(a)||a}(),a("Leaderboard",m)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("component/settings.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return".settings__input{width:100%;border:2px solid #D0D0D0;border-radius:3px}.settings__button{background-color:#F5F5F5;color:#444;font-weight:700;height:30px;line-height:30px;padding:0 14px;border:1px solid #CCC;border-radius:3px}.settings__button:hover{background-color:#DDD}"}),a()}(),function(){var a=System.get("@@amd-helpers").createDefine();define("component/settings.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template keypress.delegate="onKeypress($event)"> <require from="./settings.css"></require> <div class="row"> <div class="small-6 medium-3 columns"> </div> <div class="small-2 medium-3 columns"> <h4 class="inline">Width</h4> </div> <div class="small-2 medium-3 columns"> <h4 class="inline">Height</h4> </div> <div class="small-2 medium-3 columns"> <h4 class="inline">Mines</h4> </div> </div> <div class="row" repeat.for="entry of allSettings"> <div class="small-6 medium-3 columns"> <input id="diff-${entry.difficulty}" type="radio" name="diff" model.bind="entry" checked.bind="settings" matcher.bind="settingsComparer"> <label for="diff-${entry.difficulty}"><h4 class="inline">&nbsp;${entry.name}</h4></label> </div> <div class="small-2 medium-3 columns"> <span if.bind="entry.difficulty !== GameDifficulty.Custom">${entry.width}</span> <input if.bind="entry.difficulty === GameDifficulty.Custom" value.bind="entry.width" disabled.bind="settings !== entry" class="settings__input" type="number" min="1" max="100" step="1"> </div> <div class="small-2 medium-3 columns"> <span if.bind="entry.difficulty !== GameDifficulty.Custom">${entry.height}</span> <input if.bind="entry.difficulty === GameDifficulty.Custom" value.bind="entry.height" disabled.bind="settings !== entry" class="settings__input" type="number" min="1" max="100" step="1"> </div> <div class="small-2 medium-3 columns"> <span if.bind="entry.difficulty !== GameDifficulty.Custom">${entry.numMines}</span> <input if.bind="entry.difficulty === GameDifficulty.Custom" value.bind="entry.numMines" disabled.bind="settings !== entry" class="settings__input" type="number" min="0" max="9999" step="1"> </div> </div> <div class="row"> <div class="columns"> <button class="settings__button" click.delegate="newGame()">New Game</button> </div> </div> </template>'}),a()}(),System.register("game/settings.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(c,d,e,f,g){b(this,a),this.difficulty=c,this.name=d,this.width=e,this.height=f,this.numMines=g}return e(a,[{key:"isValid",value:function(){return this.width>=1&&this.height>=1&&this.numMines<this.width*this.height}},{key:"clone",value:function(){return JSON.parse(JSON.stringify(this))}}],[{key:"beginner",value:function(){return new a(d.Beginner,"Beginner",9,9,10)}},{key:"intermediate",value:function(){return new a(d.Intermediate,"Intermediate",16,16,40)}},{key:"expert",value:function(){return new a(d.Expert,"Expert",30,16,99)}},{key:"custom",value:function(){return new a(d.Custom,"Custom",30,20,145)}}]),a}(),a("GameSettings",c),d={Beginner:1,Intermediate:2,Expert:4,Custom:8},a("GameDifficulty",d)}}}),System.register("events.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d;return{setters:[],execute:function(){c=function e(a,c,d){b(this,e),this.minesweeper=a,this.previousState=c,this.currentState=d},a("GameStateChangedEvent",c),d=function f(a){b(this,f),this.settings=a},a("NewGameRequestedEvent",d)}}}),System.register("component/settings.js",["aurelia-framework","aurelia-event-aggregator","../utility/input","../game/settings","../events"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b,c){var d=c[b];if(d){var e={};for(var f in d)e[f]=d[f];e.value=e.initializer?e.initializer.call(a):void 0,Object.defineProperty(a,b,e)}}var d,e,f,g,h,i,j,k,l=function(){function a(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.decorators,g=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),
f){for(var h=0;h<f.length;h++){var i=f[h];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,g,e)||e}if(void 0!==e.initializer){c[g]=e;continue}}Object.defineProperty(a,g,e)}}return function(b,c,d,e,f){return c&&a(b.prototype,c,e),d&&a(b,d,f),b}}();return{setters:[function(a){d=a.bindable,e=a.inject},function(a){f=a.EventAggregator},function(a){g=a.Key},function(a){h=a.GameSettings,i=a.GameDifficulty},function(a){j=a.NewGameRequestedEvent}],execute:function(){k=function(){function a(a){b(this,m),this.GameDifficulty=i,c(this,"settings",k),this.allSettings=[h.beginner(),h.intermediate(),h.expert(),h.custom()],this.settingsComparer=function(a,b){return a.difficulty===b.difficulty},this._eventAggregator=a}var k={},k={};l(a,[{key:"settings",decorators:[d],initializer:function(){return null},enumerable:!0}],null,k),l(a,[{key:"newGame",value:function(){this._eventAggregator.publish(new j(this.settings))}},{key:"onKeypress",value:function(a){return a.which===g.Enter&&this.newGame(),!0}}],null,k);var m=a;return a=e(f)(a)||a}(),a("Settings",k)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("component/social/github-button.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <iframe src="https://ghbtns.com/github-btn.html?user=${user}&repo=${repo}&type=${type}&count=${count}&size=${size}" frameborder="0" scrolling="0" width="${width}" height="${height}"></iframe> </template>'}),a()}(),System.register("component/social/github-button.js",["aurelia-framework"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b,c){var d=c[b];if(d){var e={};for(var f in d)e[f]=d[f];e.value=e.initializer?e.initializer.call(a):void 0,Object.defineProperty(a,b,e)}}var d,e,f=function(){function a(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.decorators,g=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),f){for(var h=0;h<f.length;h++){var i=f[h];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,g,e)||e}if(void 0!==e.initializer){c[g]=e;continue}}Object.defineProperty(a,g,e)}}return function(b,c,d,e,f){return c&&a(b.prototype,c,e),d&&a(b,d,f),b}}();return{setters:[function(a){d=a.bindable}],execute:function(){e=function(){function a(){b(this,a),c(this,"user",e),c(this,"repo",e),c(this,"type",e),c(this,"count",e),c(this,"size",e),c(this,"width",e),c(this,"height",e)}var e={};return f(a,[{key:"user",decorators:[d],initializer:null,enumerable:!0},{key:"repo",decorators:[d],initializer:null,enumerable:!0},{key:"type",decorators:[d],initializer:null,enumerable:!0},{key:"count",decorators:[d],initializer:function(){return"none"},enumerable:!0},{key:"size",decorators:[d],initializer:function(){return"none"},enumerable:!0},{key:"width",decorators:[d],initializer:null,enumerable:!0},{key:"height",decorators:[d],initializer:null,enumerable:!0}],null,e),a}(),a("GithubButton",e)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("component/social/tweet.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return".tweet{inherit:none;display:inline-block;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-ms-linear-gradient(top,#FEFEFE 0,#DFDFDF 100%);background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-moz-linear-gradient(top,#FEFEFE 0,#DFDFDF 100%);background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-o-linear-gradient(top,#FEFEFE 0,#DFDFDF 100%);background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-webkit-gradient(linear,left top,left bottom,color-stop(0,#FEFEFE),color-stop(1,#DFDFDF));background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-webkit-linear-gradient(top,#FEFEFE 0,#DFDFDF 100%);border:1px solid #ccc;padding-left:22px;padding-right:4px;padding-top:2px;font-weight:700;font-size:.7em;font-family:Arial;color:#333;text-decoration:none}.tweet:hover{background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-ms-linear-gradient(top,#f7f7f7 0,#d9d9d9 100%);background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-moz-linear-gradient(top,#f7f7f7 0,#d9d9d9 100%);background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-o-linear-gradient(top,#f7f7f7 0,#d9d9d9 100%);background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-webkit-gradient(linear,left top,left bottom,color-stop(0,#f7f7f7),color-stop(1,#d9d9d9));background:url(https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png) 2px 1px no-repeat,-webkit-linear-gradient(top,#f7f7f7 0,#d9d9d9 100%)}"}),a()}(),function(){var a=System.get("@@amd-helpers").createDefine();define("component/social/tweet.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="./tweet.css"></require> <a class="tweet" href="${shareLink}" ref="link" target="_blank" click.delegate="onClick($event)"> Tweet </a> </template>'}),a()}(),System.register("utility/input.js",[],function(a){"use strict";var b,c;return{setters:[],execute:function(){b={Left:1,Right:3},a("MouseButton",b),c={Escape:27,Enter:13},a("Key",c)}}}),System.register("component/social/tweet.js",["aurelia-framework","../../utility/input"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b,c){var d=c[b];if(d){var e={};for(var f in d)e[f]=d[f];e.value=e.initializer?e.initializer.call(a):void 0,Object.defineProperty(a,b,e)}}var d,e,f,g=function(){function a(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.decorators,g=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),f){for(var h=0;h<f.length;h++){var i=f[h];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,g,e)||e}if(void 0!==e.initializer){c[g]=e;continue}}Object.defineProperty(a,g,e)}}return function(b,c,d,e,f){return c&&a(b.prototype,c,e),d&&a(b,d,f),b}}();return{setters:[function(a){d=a.bindable},function(a){e=a.MouseButton}],execute:function(){f=function(){function a(d,e){b(this,a),c(this,"text",f),c(this,"url",f),c(this,"hashtags",f),this._bindingEngine=d,this._taskQueue=e,this.url=window.location.protocol+"//"+window.location.host}var f={},f={};return g(a,[{key:"text",decorators:[d],initializer:function(){return""},enumerable:!0},{key:"url",decorators:[d],initializer:function(){return""},enumerable:!0},{key:"hashtags",decorators:[d],initializer:function(){return""},enumerable:!0}],null,f),g(a,[{key:"onClick",value:function(a){if(a.which==e.Left){var b=550,c=420,d=window.screen.width,f=window.screen.height,g=Math.round(d/2-b/2),h=f>c?Math.round(f/2-c/2):0;window.open(this.link.href,"share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+b+",height="+c+",left="+g+",top="+h),a.preventDefault()}}},{key:"shareLink",get:function(){return"https://twitter.com/intent/tweet?text="+encodeURIComponent(this.text)+"&url="+encodeURIComponent(this.url)+"&hashtags="+encodeURIComponent(this.hashtags)}}],null,f),a}(),a("Tweet",f)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("foundation.css!github:systemjs/plugin-text@0.0.3.js",[],function(){return'/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */img,legend{border:0}pre,textarea{overflow:auto}body,button,legend,td,th{padding:0}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{max-width:100%;height:auto;-ms-interpolation-mode:bicubic;display:inline-block;vertical-align:middle}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}select,textarea{border-radius:3px}textarea{height:auto;min-height:50px}table{border-collapse:collapse;border-spacing:0}.foundation-mq{font-family:"small=0em&medium=40em&large=64em&xlarge=75em&xxlarge=90em"}html{font-size:100%;box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{margin:0;font-family:"Helvetica Neue",Helvetica,Roboto,Arial,sans-serif;font-weight:400;line-height:1.5;color:#222;background:#fefefe;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}select{width:100%}#map_canvas embed,#map_canvas img,#map_canvas object,.map_canvas embed,.map_canvas img,.map_canvas object,.mqa-display embed,.mqa-display img,.mqa-display object{max-width:none!important}button{overflow:visible;-webkit-appearance:none;-moz-appearance:none;background:0 0;border:0;border-radius:3px;line-height:1}.is-visible{display:block!important}.is-hidden{display:none!important}.row{max-width:62.5rem;margin-left:auto;margin-right:auto;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap}.row .row{margin-left:-.625rem;margin-right:-.625rem}.row.expanded{max-width:none}.row.collapse>.column,.row.collapse>.columns{padding-left:0;padding-right:0}.column,.columns{padding-left:.625rem;padding-right:.625rem;-webkit-flex:1 1 0px;-ms-flex:1 1 0px;flex:1 1 0px}@media screen and (min-width:40em){.row .row{margin-left:-.9375rem;margin-right:-.9375rem}.column,.columns{padding-left:.9375rem;padding-right:.9375rem}}.column.row.row,.row.row.columns{float:none}.row .column.row.row,.row .row.row.columns{padding-left:0;padding-right:0;margin-left:0;margin-right:0}.small-1{-webkit-flex:0 0 8.33333%;-ms-flex:0 0 8.33333%;flex:0 0 8.33333%;max-width:8.33333%}.small-offset-0{margin-left:0}.small-2{-webkit-flex:0 0 16.66667%;-ms-flex:0 0 16.66667%;flex:0 0 16.66667%;max-width:16.66667%}.small-offset-1{margin-left:8.33333%}.small-3{-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.small-offset-2{margin-left:16.66667%}.small-4{-webkit-flex:0 0 33.33333%;-ms-flex:0 0 33.33333%;flex:0 0 33.33333%;max-width:33.33333%}.small-offset-3{margin-left:25%}.small-5{-webkit-flex:0 0 41.66667%;-ms-flex:0 0 41.66667%;flex:0 0 41.66667%;max-width:41.66667%}.small-offset-4{margin-left:33.33333%}.small-6{-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.small-offset-5{margin-left:41.66667%}.small-7{-webkit-flex:0 0 58.33333%;-ms-flex:0 0 58.33333%;flex:0 0 58.33333%;max-width:58.33333%}.small-offset-6{margin-left:50%}.small-8{-webkit-flex:0 0 66.66667%;-ms-flex:0 0 66.66667%;flex:0 0 66.66667%;max-width:66.66667%}.small-offset-7{margin-left:58.33333%}.small-9{-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.small-offset-8{margin-left:66.66667%}.small-10{-webkit-flex:0 0 83.33333%;-ms-flex:0 0 83.33333%;flex:0 0 83.33333%;max-width:83.33333%}.small-offset-9{margin-left:75%}.small-11{-webkit-flex:0 0 91.66667%;-ms-flex:0 0 91.66667%;flex:0 0 91.66667%;max-width:91.66667%}.small-offset-10{margin-left:83.33333%}.small-12{-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.small-offset-11{margin-left:91.66667%}.small-order-1{-webkit-order:1;-ms-flex-order:1;order:1}.small-order-2{-webkit-order:2;-ms-flex-order:2;order:2}.small-order-3{-webkit-order:3;-ms-flex-order:3;order:3}.small-order-4{-webkit-order:4;-ms-flex-order:4;order:4}.small-order-5{-webkit-order:5;-ms-flex-order:5;order:5}.small-order-6{-webkit-order:6;-ms-flex-order:6;order:6}.small-collapse>.column,.small-collapse>.columns{padding-left:0;padding-right:0}.small-uncollapse>.column,.small-uncollapse>.columns{padding-left:.625rem;padding-right:.625rem}@media screen and (min-width:40em){.medium-1{-webkit-flex:0 0 8.33333%;-ms-flex:0 0 8.33333%;flex:0 0 8.33333%;max-width:8.33333%}.medium-offset-0{margin-left:0}.medium-2{-webkit-flex:0 0 16.66667%;-ms-flex:0 0 16.66667%;flex:0 0 16.66667%;max-width:16.66667%}.medium-offset-1{margin-left:8.33333%}.medium-3{-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.medium-offset-2{margin-left:16.66667%}.medium-4{-webkit-flex:0 0 33.33333%;-ms-flex:0 0 33.33333%;flex:0 0 33.33333%;max-width:33.33333%}.medium-offset-3{margin-left:25%}.medium-5{-webkit-flex:0 0 41.66667%;-ms-flex:0 0 41.66667%;flex:0 0 41.66667%;max-width:41.66667%}.medium-offset-4{margin-left:33.33333%}.medium-6{-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.medium-offset-5{margin-left:41.66667%}.medium-7{-webkit-flex:0 0 58.33333%;-ms-flex:0 0 58.33333%;flex:0 0 58.33333%;max-width:58.33333%}.medium-offset-6{margin-left:50%}.medium-8{-webkit-flex:0 0 66.66667%;-ms-flex:0 0 66.66667%;flex:0 0 66.66667%;max-width:66.66667%}.medium-offset-7{margin-left:58.33333%}.medium-9{-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.medium-offset-8{margin-left:66.66667%}.medium-10{-webkit-flex:0 0 83.33333%;-ms-flex:0 0 83.33333%;flex:0 0 83.33333%;max-width:83.33333%}.medium-offset-9{margin-left:75%}.medium-11{-webkit-flex:0 0 91.66667%;-ms-flex:0 0 91.66667%;flex:0 0 91.66667%;max-width:91.66667%}.medium-offset-10{margin-left:83.33333%}.medium-12{-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.medium-offset-11{margin-left:91.66667%}.medium-order-1{-webkit-order:1;-ms-flex-order:1;order:1}.medium-order-2{-webkit-order:2;-ms-flex-order:2;order:2}.medium-order-3{-webkit-order:3;-ms-flex-order:3;order:3}.medium-order-4{-webkit-order:4;-ms-flex-order:4;order:4}.medium-order-5{-webkit-order:5;-ms-flex-order:5;order:5}.medium-order-6{-webkit-order:6;-ms-flex-order:6;order:6}}@media screen and (min-width:40em) and (min-width:40em){.medium-expand{-webkit-flex:1 1 0px;-ms-flex:1 1 0px;flex:1 1 0px}}.row.medium-unstack .column,.row.medium-unstack .columns{-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%}@media screen and (min-width:40em){.row.medium-unstack .column,.row.medium-unstack .columns{-webkit-flex:1 1 0px;-ms-flex:1 1 0px;flex:1 1 0px}.medium-collapse>.column,.medium-collapse>.columns{padding-left:0;padding-right:0}.medium-uncollapse>.column,.medium-uncollapse>.columns{padding-left:.9375rem;padding-right:.9375rem}.hide-for-medium{display:none!important}}@media screen and (min-width:64em){.large-1{-webkit-flex:0 0 8.33333%;-ms-flex:0 0 8.33333%;flex:0 0 8.33333%;max-width:8.33333%}.large-offset-0{margin-left:0}.large-2{-webkit-flex:0 0 16.66667%;-ms-flex:0 0 16.66667%;flex:0 0 16.66667%;max-width:16.66667%}.large-offset-1{margin-left:8.33333%}.large-3{-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.large-offset-2{margin-left:16.66667%}.large-4{-webkit-flex:0 0 33.33333%;-ms-flex:0 0 33.33333%;flex:0 0 33.33333%;max-width:33.33333%}.large-offset-3{margin-left:25%}.large-5{-webkit-flex:0 0 41.66667%;-ms-flex:0 0 41.66667%;flex:0 0 41.66667%;max-width:41.66667%}.large-offset-4{margin-left:33.33333%}.large-6{-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.large-offset-5{margin-left:41.66667%}.large-7{-webkit-flex:0 0 58.33333%;-ms-flex:0 0 58.33333%;flex:0 0 58.33333%;max-width:58.33333%}.large-offset-6{margin-left:50%}.large-8{-webkit-flex:0 0 66.66667%;-ms-flex:0 0 66.66667%;flex:0 0 66.66667%;max-width:66.66667%}.large-offset-7{margin-left:58.33333%}.large-9{-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.large-offset-8{margin-left:66.66667%}.large-10{-webkit-flex:0 0 83.33333%;-ms-flex:0 0 83.33333%;flex:0 0 83.33333%;max-width:83.33333%}.large-offset-9{margin-left:75%}.large-11{-webkit-flex:0 0 91.66667%;-ms-flex:0 0 91.66667%;flex:0 0 91.66667%;max-width:91.66667%}.large-offset-10{margin-left:83.33333%}.large-12{-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.large-offset-11{margin-left:91.66667%}.large-order-1{-webkit-order:1;-ms-flex-order:1;order:1}.large-order-2{-webkit-order:2;-ms-flex-order:2;order:2}.large-order-3{-webkit-order:3;-ms-flex-order:3;order:3}.large-order-4{-webkit-order:4;-ms-flex-order:4;order:4}.large-order-5{-webkit-order:5;-ms-flex-order:5;order:5}.large-order-6{-webkit-order:6;-ms-flex-order:6;order:6}}@media screen and (min-width:64em) and (min-width:64em){.large-expand{-webkit-flex:1 1 0px;-ms-flex:1 1 0px;flex:1 1 0px}}.row.large-unstack .column,.row.large-unstack .columns{-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%}@media screen and (min-width:64em){.row.large-unstack .column,.row.large-unstack .columns{-webkit-flex:1 1 0px;-ms-flex:1 1 0px;flex:1 1 0px}.large-collapse>.column,.large-collapse>.columns{padding-left:0;padding-right:0}.large-uncollapse>.column,.large-uncollapse>.columns{padding-left:.9375rem;padding-right:.9375rem}.hide-for-large{display:none!important}}.shrink{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;max-width:100%}.row.align-right{-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.row.align-center{-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.row.align-justify{-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.row.align-spaced{-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.row.align-top{-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.align-top.columns,.column.align-top{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start}.row.align-bottom{-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.align-bottom.columns,.column.align-bottom{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end}.row.align-middle{-webkit-align-items:center;-ms-flex-align:center;align-items:center}.align-middle.columns,.column.align-middle{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.row.align-stretch{-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}.align-stretch.columns,.column.align-stretch{-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch}.hide{display:none!important}.invisible{visibility:hidden}@media screen and (min-width:0em) and (max-width:39.9375em){.hide-for-small-only{display:none!important}}@media screen and (max-width:0em),screen and (min-width:40em){.show-for-small-only{display:none!important}}@media screen and (max-width:39.9375em){.show-for-medium{display:none!important}}@media screen and (min-width:40em) and (max-width:63.9375em){.hide-for-medium-only{display:none!important}}@media screen and (max-width:39.9375em),screen and (min-width:64em){.show-for-medium-only{display:none!important}}@media screen and (max-width:63.9375em){.show-for-large{display:none!important}}@media screen and (min-width:64em) and (max-width:74.9375em){.hide-for-large-only{display:none!important}}@media screen and (max-width:63.9375em),screen and (min-width:75em){.show-for-large-only{display:none!important}}.show-for-sr,.show-on-focus{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.show-on-focus:active,.show-on-focus:focus{position:static!important;height:auto;width:auto;overflow:visible;clip:auto}.hide-for-portrait,.show-for-landscape{display:block!important}@media screen and (orientation:landscape){.hide-for-portrait,.show-for-landscape{display:block!important}.hide-for-landscape,.show-for-portrait{display:none!important}}.hide-for-landscape,.show-for-portrait{display:none!important}@media screen and (orientation:portrait){.hide-for-portrait,.show-for-landscape{display:none!important}.hide-for-landscape,.show-for-portrait{display:block!important}}.float-left{float:left!important}.float-right{float:right!important}.float-center{display:block;margin-left:auto;margin-right:auto}.clearfix::after,.clearfix::before{content:\' \';display:table}.clearfix::after{clear:both}'}),a()}(),System.register("main.js",[],function(a){"use strict";function b(a){a.use.defaultBindingLanguage().defaultResources().eventAggregator().plugin("aurelia-animator-css"),a.start().then(function(a){return a.setRoot()})}return a("configure",b),{setters:[],execute:function(){}}}),System.register("utility/slide.js",["aurelia-framework","aurelia-animator-css"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.CssAnimator}],execute:function(){e=function(){function a(a,c){b(this,e),this._animationQueue=[],this._class="slide",this._element=a,this._animator=c}f(a,[{key:"valueChanged",value:function(a,b){var c=this,d=a?function(){return c._animator.addClass(c._element,c._class)}:function(){return c._animator.removeClass(c._element,c._class)};this._inProgress?this._animationQueue.push(d):this._runAnimation(d)}},{key:"_runAnimation",value:function(a){var b=this;this._inProgress=!0,a().then(function(){if(b._animationQueue.length>0){var a=b._animationQueue.splice(0,1)[0];b._runAnimation(a)}else b._inProgress=!1})}}]);var e=a;return a=c(Element,d)(a)||a}(),a("SlideCustomAttribute",e)}}}),System.register("utility/sort.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(){b(this,a)}return d(a,[{key:"toView",value:function(a,b,c){var d="ascending"===c?1:-1;return a.sort(function(a,c){return(a[b]-c[b])*d})}}]),a}(),a("SortValueConverter",c)}}}),System.register("utility/take.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(){b(this,a)}return d(a,[{key:"toView",value:function(a,b){return a.slice(0,b)}}]),a}(),a("TakeValueConverter",c)}}});